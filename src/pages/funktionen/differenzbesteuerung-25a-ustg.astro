---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import { Icon } from 'astro-icon/components';

// 1. METADATEN
const title = "Differenzbesteuerung §25a UStG Software | Autaxo";
const description = "Automatische Erkennung von §25a Fällen, korrekte Margenberechnung und Kfz-Handelsbuch-Export. Rechtssicher für den Gebrauchtwagenhandel.";

// 2. FAQ DATEN (Spezifisch für §25a)
const faqs = [
  {
    question: "Erkennt die Software §25a automatisch?",
    answer: "Ja. Anhand des Einkaufstyps (Privat vs. Händler) und der Herkunft prüft Autaxo, ob die Differenzbesteuerung angewendet werden darf. Unzulässige Fälle (z.B. Import aus Drittland) werden erkannt."
  },
  {
    question: "Wie wird die Marge berechnet?",
    answer: "Autaxo berechnet die Marge automatisch aus Verkaufspreis minus Einkaufspreis. Die Umsatzsteuer wird aus der Differenz herausgerechnet und intern verbucht, taucht aber nicht auf der Rechnung auf."
  },
  {
    question: "Was passiert bei Verlustgeschäften?",
    answer: "Bei einer negativen Marge fällt keine Umsatzsteuer an. Autaxo berücksichtigt das korrekt in der Buchhaltung, sodass Sie keine Steuern auf Verluste zahlen."
  },
  {
    question: "Kann ich das vorgeschriebene Handelsbuch exportieren?",
    answer: "Ja. Autaxo führt im Hintergrund automatisch das gesetzlich geforderte Kfz-Handelsbuch (Aufzeichnungen nach § 25a Abs. 6 UStG). Sie können es jederzeit für das Finanzamt exportieren."
  }
];

// 3. FEATURE STEPS (Aus deinem alten Content)
const steps = [
  {
    step: "01",
    title: "Intelligente Fallprüfung",
    text: "Autaxo prüft Einkaufstyp und Herkunft. Unzulässige Konstellationen für §25a – etwa Neufahrzeuge oder innergemeinschaftliche Erwerbe – werden automatisch gesperrt oder gewarnt.",
    icon: "lucide:shield-alert"
  },
  {
    step: "02",
    title: "Automatische Margenberechnung",
    text: "Einkaufspreis, Verkaufspreis und Nebenkosten werden verrechnet. Die steuerpflichtige Marge wird präzise ermittelt. Manuelle Rechenfehler sind ausgeschlossen.",
    icon: "lucide:calculator"
  },
  {
    step: "03",
    title: "Mischbestände im Griff",
    text: "Egal ob Regelbesteuerung (19%) oder Differenzbesteuerung – Autaxo verwaltet beide Steuerarten parallel und kennzeichnet jedes Fahrzeug im Bestand korrekt.",
    icon: "lucide:layers"
  },
  {
    step: "04",
    title: "Rechtssichere Rechnungen",
    text: "Auf der Rechnung erscheinen automatisch die gesetzlich geforderten Hinweise (z.B. 'Gebrauchtgegenstände/Sonderregelung'). Keine MwSt wird offen ausgewiesen.",
    icon: "lucide:file-check"
  },
  {
    step: "05",
    title: "Kfz-Handelsbuch auf Knopfdruck",
    text: "Autaxo erstellt automatisch das Kfz-Handelsbuch gemäß § 25a Abs. 6 UStG. Alle Margen und Fahrzeugdaten sind strukturiert exportierbar – ideal für jede Betriebsprüfung.",
    icon: "lucide:book-marked"
  }
];
---

<MarketingLayout title={title} description={description}>

  <section class="relative pt-32 pb-20 bg-[#0b0c10] overflow-hidden">
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/10 via-[#0b0c10] to-[#0b0c10]"></div>
    
    <div class="container mx-auto px-4 relative z-10 text-center">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-bold uppercase tracking-wider mb-6">
        §25a UStG Konform
      </div>
      <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6 tracking-tight text-balance">
        Differenzbesteuerung <br/>
        <span class="text-primary">automatisch & prüfungssicher</span>
      </h1>
      <p class="text-xl text-text-muted max-w-3xl mx-auto leading-relaxed mb-10 text-balance">
        Autaxo erkennt 25a-Fälle, sperrt unzulässige Konstellationen und berechnet die Marge automatisch – inkl. Nachweisen.
      </p>

      <div class="flex flex-wrap justify-center gap-4">
        <a href="https://garage.autaxo.de/auth/sign-up" class="px-8 py-4 bg-primary hover:bg-primary-hover text-white font-bold rounded-lg transition-all shadow-lg shadow-primary/20">
          Kostenlos testen
        </a>
        <a href="#details" class="px-8 py-4 bg-white/5 hover:bg-white/10 text-white font-medium rounded-lg border border-white/10 transition-all">
          Details ansehen
        </a>
      </div>
    </div>
  </section>

  <section id="details" class="py-24 bg-[#0b0c10]">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center mb-16">
        <h2 class="text-3xl font-bold text-white mb-4">So macht Autaxo §25a sicher</h2>
        <p class="text-text-muted">Fünf Sicherheitsmechanismen für deine Marge.</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {steps.map((item) => (
          <div class="relative p-8 rounded-2xl bg-[#15171e] border border-white/10 hover:border-blue-500/30 transition-all duration-300 group">
            
            <div class="flex items-start justify-between mb-6">
              <div class="w-12 h-12 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-colors">
                <Icon name={item.icon} class="w-6 h-6" />
              </div>
              <span class="text-4xl font-bold text-white/5 font-mono group-hover:text-white/10 transition-colors">
                {item.step}
              </span>
            </div>

            <h3 class="text-xl font-bold text-white mb-3">{item.title}</h3>
            <p class="text-text-muted text-sm leading-relaxed">
              {item.text}
            </p>
          </div>
        ))}

        <div class="relative p-8 rounded-2xl bg-gradient-to-br from-blue-900/20 to-primary/10 border border-blue-500/20 flex flex-col justify-center items-center text-center">
          <Icon name="lucide:book-open-check" class="w-12 h-12 text-blue-400 mb-4" />
          <h3 class="text-xl font-bold text-white mb-2">Keine Angst vor Prüfung?</h3>
          <p class="text-white/80 text-sm mb-6">Mit dem automatischen Handelsbuch bist du vorbereitet.</p>
          <a href="https://garage.autaxo.de/auth/sign-up" class="px-6 py-2 bg-white text-black font-bold rounded hover:bg-gray-200 transition-colors w-full">
            Jetzt starten
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="py-24 bg-surface border-t border-white/5">
    <div class="container mx-auto px-4 max-w-3xl">
      <div class="text-center mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Expertenfragen zu §25a</h2>
        <div class="w-16 h-1 bg-blue-500 mx-auto rounded-full"></div>
      </div>
      
      <div class="space-y-4">
        {faqs.map((faq) => (
          <details class="group bg-[#0b0c10] border border-white/10 rounded-lg overflow-hidden transition-colors hover:border-white/20">
            <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
              <h3 class="font-medium text-white pr-4">{faq.question}</h3>
              <span class="text-primary transition-transform duration-300 group-open:rotate-180">
                <Icon name="lucide:chevron-down" class="w-5 h-5" />
              </span>
            </summary>
            <div class="p-5 pt-0 text-text-muted text-sm leading-relaxed border-t border-white/5 mt-2">
              {faq.answer}
            </div>
          </details>
        ))}
      </div>
    </div>
  </section>

  <section class="py-24 text-center bg-[#0b0c10]">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-white mb-6">Mache Schluss mit Steuer-Risiken.</h2>
      <p class="text-text-muted mb-8 max-w-xl mx-auto">
        Testen Sie Autaxo 30 Tage kostenlos. Keine Kreditkarte, keine Verpflichtung.
      </p>
      <a href="https://garage.autaxo.de/auth/sign-up" class="inline-block px-8 py-4 bg-primary hover:bg-primary-hover text-white font-bold rounded-lg transition-colors shadow-lg shadow-primary/20">
        Kostenlos starten
      </a>
    </div>
  </section>

</MarketingLayout>